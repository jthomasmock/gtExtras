<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add HTML-based bar plots into rows of a gt table — gt_plt_bar_pct • gtExtras</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add HTML-based bar plots into rows of a gt table — gt_plt_bar_pct"><meta name="description" content="The gt_plt_bar_pct function takes an existing gt_tbl object and
adds horizontal barplots via native HTML. Note that values
default to being normalized to the percent of the maximum observed value
in the specified column. You can turn this off if the values already
represent a percentage value representing 0-100."><meta property="og:description" content="The gt_plt_bar_pct function takes an existing gt_tbl object and
adds horizontal barplots via native HTML. Note that values
default to being normalized to the percent of the maximum observed value
in the specified column. You can turn this off if the values already
represent a percentage value representing 0-100."><meta property="og:image" content="https://jthomasmock.github.io/gtExtras/reference/figures/opengraph.png"><meta property="og:image:alt" content="The package hex logo, it is pixel art of a table with a computer on top. A small boston terrier is underneath and then the text gtExtras."><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@thomas_mock"><meta name="twitter:site" content="https://jthomasmock.github.io/gtExtras"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gtExtras</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/plotting-with-gtExtras.html">Plotting with gtExtras</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jthomasmock/gtExtras/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Add HTML-based bar plots into rows of a <code>gt</code> table</h1>
      <small class="dont-index">Source: <a href="https://github.com/jthomasmock/gtExtras/blob/master/R/gt-bar-html.R" class="external-link"><code>R/gt-bar-html.R</code></a></small>
      <div class="d-none name"><code>gt_plt_bar_pct.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>gt_plt_bar_pct</code> function takes an existing <code>gt_tbl</code> object and
adds horizontal barplots via native HTML. Note that values
default to being normalized to the percent of the maximum observed value
in the specified column. You can turn this off if the values already
represent a percentage value representing 0-100.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gt_plt_bar_pct</span><span class="op">(</span></span>
<span>  <span class="va">gt_object</span>,</span>
<span>  <span class="va">column</span>,</span>
<span>  height <span class="op">=</span> <span class="fl">16</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  fill <span class="op">=</span> <span class="st">"purple"</span>,</span>
<span>  background <span class="op">=</span> <span class="st">"#e1e1e1"</span>,</span>
<span>  scaled <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  labels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  label_cutoff <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span>  decimals <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  font_style <span class="op">=</span> <span class="st">"bold"</span>,</span>
<span>  font_size <span class="op">=</span> <span class="st">"10px"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-gt-object">gt_object<a class="anchor" aria-label="anchor" href="#arg-gt-object"></a></dt>
<dd><p>An existing gt table object of class <code>gt_tbl</code></p></dd>


<dt id="arg-column">column<a class="anchor" aria-label="anchor" href="#arg-column"></a></dt>
<dd><p>The column wherein the bar plot should replace existing data.</p></dd>


<dt id="arg-height">height<a class="anchor" aria-label="anchor" href="#arg-height"></a></dt>
<dd><p>A number representing the vertical height of the plot in pixels. Defaults to 16 px.</p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p>A number representing the horizontal width of the plot in pixels. Defaults to 100 px. Importantly, this interacts with the label_cutoff argument, so if you want to change the cutoff, you may need to adjust the width as well.</p></dd>


<dt id="arg-fill">fill<a class="anchor" aria-label="anchor" href="#arg-fill"></a></dt>
<dd><p>A character representing the fill for the bar, defaults to purple. Accepts a named color (eg 'purple') or a hex color.</p></dd>


<dt id="arg-background">background<a class="anchor" aria-label="anchor" href="#arg-background"></a></dt>
<dd><p>A character representing the background filling out the 100% mark of the bar, defaults to light grey. Accepts a named color (eg 'white') or a hex color.</p></dd>


<dt id="arg-scaled">scaled<a class="anchor" aria-label="anchor" href="#arg-scaled"></a></dt>
<dd><p><code>TRUE</code>/<code>FALSE</code> logical indicating if the value is already scaled to a percent of max (<code>TRUE</code>) or if it needs to be scaled (<code>FALSE</code>). Defaults to <code>FALSE</code>, meaning the value will be divided by the max value in that column and then multiplied by 100.</p></dd>


<dt id="arg-labels">labels<a class="anchor" aria-label="anchor" href="#arg-labels"></a></dt>
<dd><p><code>TRUE</code>/<code>FALSE</code> logical representing if labels should be plotted. Defaults to <code>FALSE</code>, meaning that no value labels will be plotted.</p></dd>


<dt id="arg-label-cutoff">label_cutoff<a class="anchor" aria-label="anchor" href="#arg-label-cutoff"></a></dt>
<dd><p>A number, 0 to 1, representing where to set the inside/outside label boundary. Defaults to 0.40 (40%) of the column's maximum value. If the value in that row is less than the cutoff, the label will be placed outside the bar, otherwise it will be placed within the bar. This interacts with the overall width of the bar, so if you are not happy with the placement of the labels you may try adjusting the <code>width</code> argument as well.</p></dd>


<dt id="arg-decimals">decimals<a class="anchor" aria-label="anchor" href="#arg-decimals"></a></dt>
<dd><p>A number representing how many decimal places to be used in label rounding. Defaults to 1.</p></dd>


<dt id="arg-font-style">font_style<a class="anchor" aria-label="anchor" href="#arg-font-style"></a></dt>
<dd><p>A character representing the font style of the labels. Accepts one of 'bold' (default), 'italic', or 'normal'.</p></dd>


<dt id="arg-font-size">font_size<a class="anchor" aria-label="anchor" href="#arg-font-size"></a></dt>
<dd><p>A character representing the font size of the labels. Defaults to '10px'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>gt_tbl</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h2>



<p></p><div class="sourceCode r"><pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">base_tab</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">100</span>, length.out <span class="op">=</span> <span class="fl">6</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    x_unscaled <span class="op">=</span> <span class="va">x</span>,</span>
<span>    x_scaled <span class="op">=</span> <span class="va">x</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">base_tab</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_plt_bar_pct.html">gt_plt_bar_pct</a></span><span class="op">(</span></span>
<span>    column <span class="op">=</span> <span class="va">x_unscaled</span>,</span>
<span>    scaled <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"forestgreen"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_plt_bar_pct.html">gt_plt_bar_pct</a></span><span class="op">(</span></span>
<span>    column <span class="op">=</span> <span class="va">x_scaled</span>,</span>
<span>    scaled <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    labels <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="figures">Figures<a class="anchor" aria-label="anchor" href="#figures"></a></h2>


<p><img src="figures/gt_bar_plot.png" width="100%"></p>
    </div>
    <div class="section level2">
    <h2 id="function-id">Function ID<a class="anchor" aria-label="anchor" href="#function-id"></a></h2>


<p>3-5</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Plotting:
<code><a href="gt_plt_bar.html">gt_plt_bar()</a></code>,
<code><a href="gt_plt_bar_stack.html">gt_plt_bar_stack()</a></code>,
<code><a href="gt_plt_dist.html">gt_plt_dist()</a></code>,
<code><a href="gt_plt_percentile.html">gt_plt_percentile()</a></code>,
<code><a href="gt_plt_point.html">gt_plt_point()</a></code>,
<code><a href="gt_plt_sparkline.html">gt_plt_sparkline()</a></code>,
<code><a href="gt_plt_winloss.html">gt_plt_winloss()</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Mock.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

