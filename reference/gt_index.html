<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Return the underlying data, arranged by the internal index — gt_index • gtExtras</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Return the underlying data, arranged by the internal index — gt_index"><meta name="description" content="This is a utility function to extract the underlying data from
a gt table. You can use it with a saved gt table, in the pipe (%&amp;gt;%)
or even within most other gt functions (eg tab_style()). It defaults to
returning the column indicated as a vector, so that you can work with the
values. Typically this is used with logical statements to affect one column
based on the values in that specified secondary column.
Alternatively, you can extract the entire ordered data according to the
internal index as a tibble. This allows for even more complex steps
based on multiple indices."><meta property="og:description" content="This is a utility function to extract the underlying data from
a gt table. You can use it with a saved gt table, in the pipe (%&amp;gt;%)
or even within most other gt functions (eg tab_style()). It defaults to
returning the column indicated as a vector, so that you can work with the
values. Typically this is used with logical statements to affect one column
based on the values in that specified secondary column.
Alternatively, you can extract the entire ordered data according to the
internal index as a tibble. This allows for even more complex steps
based on multiple indices."><meta property="og:image" content="https://jthomasmock.github.io/gtExtras/reference/figures/opengraph.png"><meta property="og:image:alt" content="The package hex logo, it is pixel art of a table with a computer on top. A small boston terrier is underneath and then the text gtExtras."><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@thomas_mock"><meta name="twitter:site" content="https://jthomasmock.github.io/gtExtras"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gtExtras</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/plotting-with-gtExtras.html">Plotting with gtExtras</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jthomasmock/gtExtras/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Return the underlying data, arranged by the internal index</h1>
      <small class="dont-index">Source: <a href="https://github.com/jthomasmock/gtExtras/blob/master/R/gt_index.R" class="external-link"><code>R/gt_index.R</code></a></small>
      <div class="d-none name"><code>gt_index.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a utility function to extract the underlying data from
a <code>gt</code> table. You can use it with a saved <code>gt</code> table, in the pipe (<code>%&gt;%</code>)
or even within most other <code>gt</code> functions (eg <code><a href="https://gt.rstudio.com/reference/tab_style.html" class="external-link">tab_style()</a></code>). It defaults to
returning the column indicated as a vector, so that you can work with the
values. Typically this is used with logical statements to affect one column
based on the values in that specified secondary column.
Alternatively, you can extract the entire ordered data according to the
internal index as a <code>tibble</code>. This allows for even more complex steps
based on multiple indices.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gt_index</span><span class="op">(</span><span class="va">gt_object</span>, <span class="va">column</span>, as_vector <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-gt-object">gt_object<a class="anchor" aria-label="anchor" href="#arg-gt-object"></a></dt>
<dd><p>An existing gt table object</p></dd>


<dt id="arg-column">column<a class="anchor" aria-label="anchor" href="#arg-column"></a></dt>
<dd><p>The column name that you intend to extract, accepts tidyeval semantics (ie <code>mpg</code> instead of <code>"mpg"</code>)</p></dd>


<dt id="arg-as-vector">as_vector<a class="anchor" aria-label="anchor" href="#arg-as-vector"></a></dt>
<dd><p>A logical indicating whether you'd like just the column indicated as a vector, or the entire dataframe</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A vector or a <code>tibble</code></p>
    </div>
    <div class="section level2">
    <h2 id="figures">Figures<a class="anchor" aria-label="anchor" href="#figures"></a></h2>


<p><img src="figures/gt_index_style.png" width="50%"></p>
    </div>
    <div class="section level2">
    <h2 id="function-id">Function ID<a class="anchor" aria-label="anchor" href="#function-id"></a></h2>


<p>2-20</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Utilities:
<code><a href="add_text_img.html">add_text_img</a>()</code>,
<code><a href="fa_icon_repeat.html">fa_icon_repeat</a>()</code>,
<code><a href="fmt_pad_num.html">fmt_pad_num</a>()</code>,
<code><a href="fmt_pct_extra.html">fmt_pct_extra</a>()</code>,
<code><a href="fmt_symbol_first.html">fmt_symbol_first</a>()</code>,
<code><a href="generate_df.html">generate_df</a>()</code>,
<code><a href="gt_add_divider.html">gt_add_divider</a>()</code>,
<code><a href="gt_badge.html">gt_badge</a>()</code>,
<code><a href="gt_double_table.html">gt_double_table</a>()</code>,
<code><a href="gt_duplicate_column.html">gt_duplicate_column</a>()</code>,
<code><a href="gt_fa_rank_change.html">gt_fa_rank_change</a>()</code>,
<code><a href="gt_fa_rating.html">gt_fa_rating</a>()</code>,
<code><a href="gt_highlight_cols.html">gt_highlight_cols</a>()</code>,
<code><a href="gt_highlight_rows.html">gt_highlight_rows</a>()</code>,
<code><a href="gt_img_border.html">gt_img_border</a>()</code>,
<code><a href="gt_img_circle.html">gt_img_circle</a>()</code>,
<code><a href="gt_img_multi_rows.html">gt_img_multi_rows</a>()</code>,
<code><a href="gt_img_rows.html">gt_img_rows</a>()</code>,
<code><a href="gt_merge_stack.html">gt_merge_stack</a>()</code>,
<code><a href="gt_merge_stack_color.html">gt_merge_stack_color</a>()</code>,
<code><a href="gt_two_column_layout.html">gt_two_column_layout</a>()</code>,
<code><a href="gtsave_extra.html">gtsave_extra</a>()</code>,
<code><a href="img_header.html">img_header</a>()</code>,
<code><a href="pad_fn.html">pad_fn</a>()</code>,
<code><a href="tab_style_by_grp.html">tab_style_by_grp</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This is a key step, as gt will create the row groups</span></span></span>
<span class="r-in"><span><span class="co"># based on first observation of the unique row items</span></span></span>
<span class="r-in"><span><span class="co"># this sampling will return a row-group order for cyl of 6,4,8</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sliced_data</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="co"># randomize the order</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_sample</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">9</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># not in "order" yet</span></span></span>
<span class="r-in"><span><span class="va">sliced_data</span><span class="op">$</span><span class="va">cyl</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6 6 6 4 8 4 8 8 4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># But unique order of 6,4,8</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">sliced_data</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6 4 8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># creating a standalone basic table</span></span></span>
<span class="r-in"><span><span class="va">test_tab</span> <span class="op">&lt;-</span> <span class="va">sliced_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span>groupname_col <span class="op">=</span> <span class="st">"cyl"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># can style a specific column based on the contents of another column</span></span></span>
<span class="r-in"><span><span class="va">tab_out_styled</span> <span class="op">&lt;-</span> <span class="va">test_tab</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_style.html" class="external-link">tab_style</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    locations <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/cells_body.html" class="external-link">cells_body</a></span><span class="op">(</span><span class="va">mpg</span>, rows <span class="op">=</span> <span class="fu">gt_index</span><span class="op">(</span><span class="va">.</span>, <span class="va">am</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    style <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/cell_fill.html" class="external-link">cell_fill</a></span><span class="op">(</span><span class="st">"red"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># OR can extract the underlying data in the "correct order"</span></span></span>
<span class="r-in"><span><span class="co"># according to the internal gt structure, ie arranged by group</span></span></span>
<span class="r-in"><span><span class="co"># by cylinder, 6,4,8</span></span></span>
<span class="r-in"><span><span class="fu">gt_index</span><span class="op">(</span><span class="va">test_tab</span>, <span class="va">mpg</span>, as_vector <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 9 × 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>  21       6  160    110  3.9   2.88  17.0     0     1     4     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>  21       6  160    110  3.9   2.62  16.5     0     1     4     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>  24.4     4  147.    62  3.69  3.19  20       1     0     4     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span>  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span>  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">9</span>  16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># note that the order of the index data is</span></span></span>
<span class="r-in"><span><span class="co"># not equivalent to the order of the input data</span></span></span>
<span class="r-in"><span><span class="co"># however all the of the rows still match</span></span></span>
<span class="r-in"><span><span class="va">sliced_data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 9 × 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>  21       6  160    110  3.9   2.88  17.0     0     1     4     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>  21       6  160    110  3.9   2.62  16.5     0     1     4     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>  24.4     4  147.    62  3.69  3.19  20       1     0     4     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span>  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span>  16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">9</span>  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Mock.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

